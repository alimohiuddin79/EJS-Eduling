<%- include('partials/header') %>
    <title>Upload Question</title>
</head>
<body>
    <%- include('partials/navbar') %>
    <div class="u-container">
        <form class="sign-form" action="/upload%20question" method="post">
            <div class="mb-3">
                <label class="form-label">Available Categories</label><br>
                <% categories.forEach(function(category){ %>
                    <input class="form-check-input" type="radio" name="chosenCategory" value="<%=category%>" onclick="setCategory()">
                    <label class="form-label"><%=category%></label> 
                <% }) %>
            </div>
            
            <div class="mb-3">
                <label class="form-label">Choose or Create Category</label><br>
                <input class="form-control" type="text" name="category" placeholder="Computer || Engineering">
            </div>
            
            <div class="mb-3">
                <label class="form-label">Available Fields</label><br>
                <% fields.forEach(function(field){ %>
                    <input class="form-check-input" type="radio" name="chosenField" value="<%=field%>" onclick="setField()">
                    <label class="form-label"><%=field%></label> 
                <% }) %>
            </div>

            <div class="mb-3">
                <label class="form-label" for="field">Field</label>
                <input class="form-control" type="text" name="field">
            </div>
            
            <div class="mb-3">
                <label class="form-label" for="question">Question</label><br>
                <input class="form-control" type="text" name="question">
            </div>
            
            <div class="mb-3">
                <label class="form-label" for="options">Options</label>
                <input class="form-control" type="text" name="options" placeholder="option1, option2">
            </div>
            
            <div class="mb-3">
                <label class="form-label" for="answer">Answer</label>
                <input class="form-control" type="text" name="answer" placeholder="Should match with one of the options">
            </div>
            
            <div class="mb-3">
                <button type="submit" class="btn btn-md btn-edu-secondary">Submit Question</button>
            </div>
            
        </form>
    </div>

    <script>
        function setCategory(){
            let newValue = document.querySelector('input[name="chosenCategory"]:checked').value;
            document.getElementsByName("category")[0].setAttribute("value", newValue);
        }
        function setField(){
            let newValue = document.querySelector('input[name="chosenField"]:checked').value;
            document.getElementsByName("field")[0].setAttribute("value", newValue);
        }
    </script>
<%- include('partials/footer') %>